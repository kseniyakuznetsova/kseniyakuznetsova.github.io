<html><head><link rel="import" href="../polymer/polymer-element.html"><script>const GraniteJsDependenciesGrabberMixin=(a)=>class extends a{static get properties(){return{history:{type:String,value:'',notify:!0},debug:{type:Boolean,value:!1}}}connectedCallback(){super.connectedCallback()}_getDependency(a){return()=>new Promise(a)}_namespaceExists(a){let b=window,c=a.split('.');for(let d,e=0;e<c.length;e++){if(d=c[e],!b[d])return!1;b=b[d]}return!0}_getDependencyPromiseResolve(a,b){return(c)=>{this._namespaceExists(a)?(this.debug&&console.log('[GraniteJsDependenciesGrabberMixin] _getDependency - found',a),this.history+=`_getDependency - found ${a} <br>`,this.dispatchEvent(new CustomEvent('dependency-is-ready',{detail:{name:a,url:b}})),c()):(this.debug&&console.log('[GraniteJsDependenciesGrabberMixin] _getDependency - unmet',a),this.history+=`_getDependency - unmet ${a} <br>`,window[`_downloading_${a}`]?this._waitToLoadDependency(a,b,c):(window[`_downloading_${a}`]=!0,this._loadDependency(a,b,c)))}}_loadDependency(a,b,c){var d=document.createElement('script');d.src=this.resolveUrl(b),d.onload=()=>{this.debug&&console.log('[GraniteJsDependenciesGrabberMixin] _loadDependency - loaded',a),this.history+=`_loadDependency - loaded ${a} <br>`,this._waitToLoadDependency(a,b,c)},document.body.appendChild(d)}_waitToLoadDependency(a,b,c){window;return this._namespaceExists(a)?void(this.debug&&console.log('[GraniteJsDependenciesGrabberMixin] _waitToLoadDependency - got',a),this.history+=`_waitToLoadDependency - got ${a} <br>`,this.dispatchEvent(new CustomEvent('dependency-is-ready',{detail:{name:a,url:b}})),c()):void window.setTimeout(()=>{this._waitToLoadDependency(a,b,c)},5)}};</script></head><body></body></html>